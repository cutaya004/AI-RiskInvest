import sklearn
import streamlit as st
import numpy as np
import pandas
import joblib

# scaler
model = joblib.load("riskinvest_model.pkl")
scaler = joblib.load("scaler.pkl")

st.title("ðŸ“ˆ AI-RiskInvest")
st.write("Application de prÃ©diction boursiÃ¨re et gestion du risque")

st.subheader("Entrer les 60 derniers prix de clÃ´ture")

prices = []
for i in range(60):
    price = st.number_input(f"Prix {i+1}", value=0.0)
    prices.append(price)

if st.button("PrÃ©dire"):
    prices_array = np.array(prices).reshape(-1, 1)
    prices_scaled = scaler.transform(prices_array)
    X_input = prices_scaled.reshape(1, -1)

    prediction = model.predict(X_input)
    predicted_price = scaler.inverse_transform(prediction.reshape(-1,1))[0][0]

    st.success(f"ðŸ“Š Prix prÃ©dit : {predicted_price:.2f}") 
